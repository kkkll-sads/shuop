# Cultural Asset Trader (æ•°æƒä¸­å¿ƒ)


ä¸€ä¸ªç»¼åˆæ€§çš„ç§»åŠ¨ç«¯ä¼˜å…ˆçš„æ•°å­—æ–‡åŒ–èµ„äº§äº¤æ˜“ Web åº”ç”¨ç¨‹åºï¼Œå…·æœ‰è‰ºæœ¯å“å±•ç¤ºã€å•†åŸã€æ–°é—»èµ„è®¯å’Œè®¢å•ç®¡ç†ç­‰åŠŸèƒ½ã€‚

> âš ï¸ **äº¤æ¥æ³¨æ„**: æœ¬é¡¹ç›®äº 2025-12-06 è¿›è¡Œäº†æ¶æ„é‡æ„ï¼Œè¯¦æƒ…è¯·æŸ¥é˜… [é¡¹ç›®é‡æ„æ—¥å¿— (REFACTORING_LOG.md)](./REFACTORING_LOG.md)ã€‚

## ğŸ“± é¡¹ç›®æ¦‚è§ˆ

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº React çš„ Web åº”ç”¨ç¨‹åºï¼Œæ—¨åœ¨æ¨¡æ‹Ÿç§»åŠ¨ç«¯ App ä½“éªŒï¼ˆâ€œæ•°æƒä¸­å¿ƒâ€ï¼‰ã€‚å®ƒä¿ƒè¿›äº†æ•°å­—æ–‡åŒ–èµ„äº§çš„äº¤æ˜“ï¼ŒåŒ…æ‹¬ç»˜ç”»ã€ä¹¦æ³•å’Œå…¶ä»–è‰ºæœ¯ä½œå“ã€‚

### æ ¸å¿ƒåŠŸèƒ½

*   **é¦–é¡µ (Home)**:
    *   æ”¯æŒè§¦æ‘¸æ»‘åŠ¨çš„è‡ªåŠ¨æ’­æ”¾è½®æ’­å›¾ã€‚
    *   å‚ç›´æ»šåŠ¨çš„å¹³å°æ–°é—»å¿«è®¯ã€‚
    *   å¿«é€Ÿè®¿é—®å­æ¨¡å—ï¼ˆå…³äºæˆ‘ä»¬ã€èµ„è®¯ã€è‰ºæœ¯å®¶ã€è—å“ï¼‰ã€‚
    *   ä¸“å±â€œäº¤æ˜“ä¸“åŒºâ€å…¥å£ã€‚
    *   è‰ºæœ¯å®¶å±•ç¤ºé¢„è§ˆã€‚
*   **å•†åŸ (Market)**:
    *   å•†å“æœç´¢å’Œåˆ†ç±»ï¼ˆè‰ºæœ¯å“ã€éé—ç­‰ï¼‰ã€‚
    *   æ’åºé€‰é¡¹ï¼ˆä»·æ ¼ã€é”€é‡ã€æœ€æ–°ï¼‰ã€‚
    *   å¸¦æœ‰è§„æ ¼é€‰æ‹©é¢æ¿çš„å•†å“è¯¦æƒ…é¡µã€‚
*   **äº¤æ˜“ä¸“åŒº (Trading Zone)**:
    *   æ­£åœ¨è¿›è¡Œå’Œå³å°†å¼€å§‹çš„äº¤æ˜“åœºæ¬¡çš„å¯è§†åŒ–ä»ªè¡¨ç›˜ã€‚
*   **èµ„è®¯ä¸­å¿ƒ (News)**:
    *   â€œå¹³å°å…¬å‘Šâ€å’Œâ€œå¹³å°åŠ¨æ€â€çš„åˆ†é¡µè§†å›¾ã€‚
    *   é˜…è¯»çŠ¶æ€è¿½è¸ªï¼ˆçº¢ç‚¹æŒ‡ç¤ºå™¨ï¼‰ã€‚
    *   å·²è¯»é¡¹ç›®çš„æœ¬åœ°å­˜å‚¨æŒä¹…åŒ–ã€‚
    *   â€œæ¸…é™¤æ‰€æœ‰æœªè¯»â€åŠŸèƒ½ã€‚
*   **è®¢å•ä¸­å¿ƒ (Orders)**:
    *   åˆ†ç±»è®¢å•ç®¡ç†ï¼ˆå•†å“ã€äº¤æ˜“ã€æè´§ã€ç§¯åˆ†ï¼‰ã€‚
    *   ä¸åŒçŠ¶æ€çš„åˆ†é¡µè®¢å•åˆ—è¡¨ã€‚
*   **æˆ‘çš„ (Profile)**:
    *   å¸¦æœ‰èµ„äº§æ¦‚è§ˆçš„ç”¨æˆ·ä»ªè¡¨ç›˜ã€‚
    *   è¯¦ç»†çš„èµ„äº§è§†å›¾ï¼ˆä½™é¢ã€æœåŠ¡è´¹ã€ç§¯åˆ†ï¼‰ã€‚
    *   **ç”¨æˆ·çŠ¶æ€å¾½ç« **ï¼šåŒºåˆ†æ–°ç”¨æˆ·ã€æ™®é€šç”¨æˆ·å’Œäº¤æ˜“ç”¨æˆ·çš„ç‹¬ç‰¹å›¾æ ‡ã€‚
    *   **ä»£ç†å¾½ç« **ï¼šå·²éªŒè¯ä»£ç†å•†çš„ä¸“å±å¾½ç« ã€‚
*   **å­é¡µé¢**:
    *   **è‰ºæœ¯å®¶è¯¦æƒ…**: ç®€ä»‹ã€ä¸ªäººèµ„æ–™å’Œä½œå“åº“ã€‚
    *   **è‰ºæœ¯å®¶/è—å“å±•ç¤º**: ç”¨äºæµè§ˆå†…å®¹çš„ç½‘æ ¼è§†å›¾ã€‚
    *   **å…³äºæˆ‘ä»¬**: å¹³å°ä»‹ç»ã€‚
    *   **å®åè®¤è¯**: ç”¨æˆ·èº«ä»½éªŒè¯æµç¨‹ã€‚
    *   **ä»£ç†å•†ç”³è¯·**: ä»£ç†å•†å…¥é©»ç”³è¯·æµç¨‹ã€‚

## ğŸ›  æŠ€æœ¯æ ˆ

*   **æ¡†æ¶**: React 18+
*   **æ ·å¼**: Tailwind CSS
*   **å›¾æ ‡**: Lucide React
*   **è¯­è¨€**: TypeScript
*   **æ„å»ºå·¥å…·**: æ ‡å‡† ES Modules (æ¨¡æ‹Ÿç¯å¢ƒ)

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
/
â”œâ”€â”€ index.html              # å¸¦æœ‰å…¨å±€æ ·å¼çš„å…¥å£ HTML
â”œâ”€â”€ index.tsx               # App å…¥å£ç‚¹
â”œâ”€â”€ App.tsx                 # ä¸»è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†
â”œâ”€â”€ types.ts                # TypeScript æ¥å£å®šä¹‰
â”œâ”€â”€ constants.ts            # æ¨¡æ‹Ÿæ•°æ® (è‰ºæœ¯å®¶, å•†å“, èµ„è®¯, è®¢å•)
â”œâ”€â”€ REFACTORING_LOG.md      # é¡¹ç›®é‡æ„æ—¥å¿— (2025-12-06)
â”œâ”€â”€ components/             # å¯å¤ç”¨ UI ç»„ä»¶
â”‚   â”œâ”€â”€ common/             # é€šç”¨åŸºç¡€ç»„ä»¶ (PageContainer, Loading, etc.)
â”‚   â”‚   â”œâ”€â”€ PageContainer.tsx
â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.tsx
â”‚   â”‚   â”œâ”€â”€ EmptyState.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ BottomNav.tsx       # åº•éƒ¨ä¸»å¯¼èˆªæ 
â”‚   â””â”€â”€ ...
â”œâ”€â”€ services/               # API æœåŠ¡å±‚ (æ¨¡å—åŒ–)
â”‚   â”œâ”€â”€ index.ts            # æœåŠ¡ç»Ÿä¸€å¯¼å‡º
â”‚   â”œâ”€â”€ auth.ts             # è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ user.ts             # ç”¨æˆ·æœåŠ¡
â”‚   â”œâ”€â”€ wallet.ts           # é’±åŒ…æœåŠ¡
â”‚   â”œâ”€â”€ market.ts           # å•†åŸæœåŠ¡
â”‚   â””â”€â”€ Networking.ts       # æ ¸å¿ƒè¯·æ±‚å°è£…
â””â”€â”€ pages/                  # åº”ç”¨ç¨‹åºå±å¹• (æŒ‰æ¨¡å—å½’ç±»)
    â”œâ”€â”€ auth/               # è®¤è¯æ¨¡å— (Login, Register...)
    â”œâ”€â”€ user/               # ç”¨æˆ·ä¸­å¿ƒ (Profile, Settings, Address...)
    â”œâ”€â”€ cms/                # å†…å®¹æ¨¡å— (Home, News, HelpCenter...)
    â”œâ”€â”€ market/             # äº¤æ˜“æ¨¡å— (Market, ProductDetail...)
    â””â”€â”€ wallet/             # èµ„é‡‘æ¨¡å— (Recharge, Withdraw...)
```

## ğŸš€ å¼€å‘è¯´æ˜

*   **ç§»åŠ¨ç«¯ä¼˜å…ˆ**: UI é’ˆå¯¹ç§»åŠ¨ç«¯è§†å£è¿›è¡Œäº†ä¼˜åŒ–ï¼ˆå»ºè®®æ¡Œé¢ç«¯æµ‹è¯•æ—¶å®½åº¦çº¦ä¸º `max-width: 480px`ï¼‰ã€‚
*   **æ— æ»šåŠ¨æ¡**: å…¨å±€ CSS éšè—äº†æ»šåŠ¨æ¡ä»¥æ¨¡æ‹ŸåŸç”Ÿ App çš„æ„Ÿè§‰ã€‚
*   **æ¨¡æ‹Ÿæ•°æ®**: æ‰€æœ‰æ•°æ®ç›®å‰éƒ½æ˜¯é™æ€çš„ï¼Œä½äº `constants.ts` ä¸­ã€‚
*   **è·¯ç”±**: é€šè¿‡ `App.tsx` ä¸­çš„æ¡ä»¶æ¸²æŸ“å®ç°ï¼ˆSPA è¡Œä¸ºï¼‰ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ `react-router-dom` ç­‰åº“ï¼Œä»¥ä¿æŒç¯å¢ƒè½»é‡å’Œç‹¬ç«‹ã€‚

## ğŸ¨ è®¾è®¡ç³»ç»Ÿ

*   **ä¸»è‰²è°ƒ**: æ©™è‰² (`orange-500` / `orange-600`)
*   **èƒŒæ™¯**: å¤´éƒ¨ä½¿ç”¨æµ…æ©™è‰²æ¸å˜ (`from-[#FFD6A5] to-gray-50`)ï¼Œå†…å®¹åŒºåŸŸä¸ºç™½è‰²ã€‚
*   **æ’ç‰ˆ**: æ— è¡¬çº¿å­—ä½“ï¼Œä¸“ä¸ºå°å±å¹•æ˜“è¯»æ€§å®šåˆ¶ã€‚

---

## ğŸ’» å®‰è£…ä¸è¿è¡Œ (Installation)

### ç¯å¢ƒè¦æ±‚
*   Node.js >= 18.0.0
*   npm >= 9.0.0

### æœ¬åœ°å¼€å‘
1.  **å…‹éš†é¡¹ç›®**:
    ```bash
    git clone https://github.com/xiaojieyahuhu/Cultural.git
    cd Cultural
    ```

2.  **å®‰è£…ä¾èµ–**:
    ```bash
    npm install
    ```

3.  **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**:
    ```bash
    npm run dev
    ```
    è®¿é—®: `http://localhost:5173`

---

## ğŸŒ Ubuntu éƒ¨ç½²æ•™ç¨‹ (Ubuntu Deployment)

æœ¬æ•™ç¨‹å‡è®¾æ‚¨ä½¿ç”¨çš„æ˜¯ Ubuntu 20.04/22.04 æœåŠ¡å™¨ã€‚

### 1. åŸºç¡€ç¯å¢ƒé…ç½®
æ›´æ–°ç³»ç»Ÿå¹¶å®‰è£… Node.js (æ¨èä½¿ç”¨ NVM):
```bash
sudo apt update
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.5/install.sh | bash
source ~/.bashrc
nvm install 20
node -v # éªŒè¯å®‰è£…
```

### 2. æ„å»ºé¡¹ç›®
åœ¨æœåŠ¡å™¨ä¸Šæ‹‰å–ä»£ç å¹¶æ„å»ºç”Ÿäº§ç‰ˆæœ¬:
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
npm install
npm run build
```
æ„å»ºå®Œæˆåä¼šç”Ÿæˆ `dist` ç›®å½•ï¼Œè¿™æ˜¯éœ€è¦éƒ¨ç½²çš„é™æ€æ–‡ä»¶èµ„æºã€‚

### 3. ä½¿ç”¨ Nginx éƒ¨ç½² (æ¨è)
å®‰è£… Nginx å¹¶é…ç½®åå‘ä»£ç†:

```bash
sudo apt install nginx
```

åˆ›å»º Nginx é…ç½®æ–‡ä»¶ `/etc/nginx/sites-available/cultural`:
```nginx
server {
    listen 80;
    server_name your_server_ip_or_domain;

    root /path/to/your/project/Cultural/dist; # ä¿®æ”¹ä¸ºä½ çš„å®é™… dist è·¯å¾„
    index index.html;

    location / {
        try_files $uri $uri/ /index.html; # æ”¯æŒ SPA è·¯ç”±
    }
}
```

å¯ç”¨é…ç½®å¹¶é‡å¯ Nginx:
```bash
sudo ln -s /etc/nginx/sites-available/cultural /etc/nginx/sites-enabled/
sudo nginx -t # æ£€æŸ¥è¯­æ³•
sudo systemctl restart nginx
```

---

## ğŸ”Œ å±€åŸŸç½‘/å…¬ç½‘ IP ç›´è¿è®¿é—®æ•™ç¨‹

å¦‚æœæ‚¨ä¸ä½¿ç”¨ Nginxï¼Œæƒ³ç›´æ¥é€šè¿‡ `http://IP:ç«¯å£` è®¿é—®ï¼š

### æ–¹æ¡ˆ A: ä¸´æ—¶å¼€å‘è®¿é—® (Dev Mode)
å¯åŠ¨æ—¶ç»‘å®šæ‰€æœ‰ç½‘å¡ (0.0.0.0):
```bash
npm run dev -- --host 0.0.0.0
```
*   **è®¿é—®åœ°å€**: `http://YOUR_SERVER_IP:5173`
*   **æ³¨æ„**: è¯·ç¡®ä¿é˜²ç«å¢™æ”¾è¡Œ 5173 ç«¯å£ã€‚

### æ–¹æ¡ˆ B: ç”Ÿäº§ç¯å¢ƒç›´è¿ (Production Preview)
å¦‚æœä¸æƒ³é… Nginxï¼Œå¯ä»¥ä½¿ç”¨ `vite preview` æˆ– `serve` å·¥å…·è¿›è¡Œç®€æ˜“éƒ¨ç½²:

1.  **æ„å»º**:
    ```bash
    npm run build
    ```

2.  **è¿è¡Œ Preview (ç»‘å®šå…¬ç½‘)**:
    ```bash
    npm run preview -- --host 0.0.0.0 --port 5173
    ```

3.  **é˜²ç«å¢™è®¾ç½® (é‡è¦)**:
    å¦‚æœæ— æ³•è®¿é—®ï¼Œè¯·æ£€æŸ¥ Ubuntu é˜²ç«å¢™ (UFW):
    ```bash
    sudo ufw allow 5173/tcp
    ```
    å¦‚æœæ˜¯äº‘æœåŠ¡å™¨ (AWS/é˜¿é‡Œäº‘/è…¾è®¯äº‘)ï¼Œè¯·åŠ¡å¿…åœ¨**å®‰å…¨ç»„**ä¸­æ”¾è¡Œ 5173 ç«¯å£ã€‚
